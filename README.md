
# 🐾 Kitty Money (记账猫猫) - 开发手记?

> **一句话简介**：拯救我这个“月底吃土星人”的记账 App。
> 核心思路：**简单、无压力、因为有猫猫所以想点开**。不要整那些花里胡哨的理财分析，我只要知道钱去哪了就行。

-----

## 1\. 初心 

  - **痛点**：每次月底一看余额就崩溃，完全想不起来钱花哪了。市面上的记账软件要么广告多，要么功能太复杂（我不想算汇率也不想看K线图！）。
  - **核心目标**：
    1.  **极速记录**：买完东西 3 秒内能记完，否则我肯定会懒得记。
    2.  **情绪价值**：用我画的猫猫来安抚我花钱后的罪恶感。
    3.  **甚至不需要联网**：数据全在本地，不用登录，打开即用。
  - **Flag**：
      - 先做功能，后抠细节，**千万别因为纠结图标好不好看而弃坑**。
      - 即使只有最简陋的功能，只要能记账，月底就要开始用起来。

-----

## 2\. 技术选型 (别给自己挖坑)

> 既然是自己维护，怎么顺手怎么来，不追求过度工程化。

  - **语言**：`JavaScript` (先不上 TS 了，类型体操太累，MVP 跑通要紧)
  - **框架**：`React Native` + `Expo` (Expo 现在的路由和构建都很强，开发体验最好)
  - **数据库**：`SQLite` (Expo SQLite)
      - *理由*：纯本地，数据结构简单，以后想导出 JSON 也方便。
  - **绘图**：`react-native-svg` (用来放我的猫猫矢量图)
  - **UI 策略**：手撸简单的组件，不引入庞大的 UI 库，保持包体积小一点。

-----

## 3\. 功能路线图 (Roadmap)

### 3.1 Phase 1: MVP (本月生存底线)

> **目标**：能跑起来，能记账，哪怕界面丑点。

  - [ ] **极速记一笔**：
      - 只有 3 个输入：金额（大数字键盘）、分类（点图标）、备注（可选）。
      - 日期默认“今天”，不用选。
  - [ ] **流水列表**：简单的按日期倒序排列，知道今天花了多少。
  - [ ] **数据库打底**：SQLite 初始化，保证关机重启数据还在。
  - [ ] **猫猫占位**：首页至少要有一只静态的猫猫看着我。

### 3.2 Phase 2: V1.0 (好用一点)

> **目标**：加上统计，让我知道哪里该剁手。

  - [ ] **分类管理**
  - [ ] **统计大饼**：一个月花了多少？哪个分类占比最高？
  - [ ] **日历视图**：类似 GitHub Contribution 的那种热力图或者点选日历，直观看到哪天花钱最猛。
  - [ ] **数据安全**：手动导出 JSON 备份（防止手机丢了数据全没）。

### 3.3 Phase 3: 梦想功能 (画饼)

  - [ ] **多账本**：分清“微信余额”和“银行卡”。
  - [ ] **预算报警**：超过预算猫猫会生气（换个表情）。
  - [ ] **猫猫动效**：记账成功猫猫会击掌。
  - [ ] **换肤**：深夜模式是必须的。

-----

## 4\. 数据库设计 (Schema)

> ⚠️ 注意：金额统一存**整数**（分），避免浮点数计算精度问题。

### 4.1 Categories (分类表)

| 字段 | 类型 | 说明 |
| :--- | :--- | :--- |
| `id` | INTEGER | PK |
| `name` | TEXT | 吃喝/交通/... |
| `icon` | TEXT | 对应的 SVG 文件名或 Emoji |
| `color` | TEXT | 用于饼图区分颜色 |

### 4.2 Transactions (流水表)

| 字段 | 类型 | 说明 |
| :--- | :--- | :--- |
| `id` | INTEGER | PK |
| `amount` | INTEGER | **存整数！** (如 19.90 存 1990) |
| `type` | TEXT | `EXPENSE` (目前只做支出) / `INCOME` |
| `category_id` | INTEGER | FK -\> Categories |
| `note` | TEXT | 备注，买了啥 |
| `occurred_at` | INTEGER | 时间戳 (存 Unix Timestamp 方便排序和转换) |
| `created_at` | INTEGER | 创建时间 |

-----

## 5\. 目录结构规范

```text
kitty-money/
├── assets/         # 存放 SVG 和 图片
├── src/
│   ├── db/             # 数据库操作  
│   ├── screens/        # 页面
│   ├── components/     # 通用组件
│   ├── utils/          # 也就是放点日期格式化工具
│   └── theme/          # 颜色板、主题配置
├── App.js              # 入口
└── app.json            # Expo 配置
```

-----

## 6\. 快速启动 (Cheatsheet)

**环境依赖**：

  - 确保 Node.js 都在。
  - 手机装好 **Expo Go**。

**常用命令**：

```bash
# 1. 依赖安装
npm install

# 2. 启动开发服务器 (如果不稳就加 --tunnel)
npx expo start
npx expo start --tunnel
# 快捷键：按 'a' 开安卓模拟器，或者直接扫码
```

-----

## 7\. Git 工作流备忘

> 养成好习惯，别把代码写丢了。

  - **每天结束**：
    `git add .` -\> `git commit -m "wip: 今天做了xx功能"` -\> `git push`
  - **关键节点**：
    如果有大改动（比如重写数据库逻辑），记得切个分支 `git checkout -b feature/db-refactor`。

-----

## 8\. 冲刺计划 (本月)

  * **Week 1 (基建)**：搭好环境，写好数据库封装，把“记一笔”这个核心流程跑通。**目标：手机上能点通。**
  * **Week 2 (展示)**：把列表页和简单的统计页做出来，加上分类逻辑。
  * **Week 3 (美化)**：把原本丑陋的输入框换成我的圆角设计，把默认图标换成我的猫猫 SVG。
  * **Week 4 (收尾)**：查漏补缺，修 Bug，打包个 APK 给自己手机装上，正式开始记账！

-----

## 9\. 审美与风格 (Vibe)

  - **关键词**：`治愈`、`圆润`、`低饱和度`。
  - **拒绝**：锐利的直角、纯黑纯白、复杂的渐变。
  - **配色**：
      

